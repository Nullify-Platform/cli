// Code generated by scripts/generate/main.go. DO NOT EDIT.
package commands

import (
	"context"
	"net/url"

	"github.com/nullify-platform/cli/internal/api"
	"github.com/nullify-platform/cli/internal/output"
	"github.com/spf13/cobra"
	"github.com/spf13/pflag"
)

func RegisterInfrastructureCommands(parent *cobra.Command, getClient func() *api.Client) {
	serviceCmd := &cobra.Command{
		Use:   "infrastructure",
		Short: "Infrastructure commands",
	}
	parent.AddCommand(serviceCmd)

	{
		cmd := &cobra.Command{
			Use:   "list-accounts",
			Short: "List Graph Account IDs",
			RunE: func(cmd *cobra.Command, args []string) error {
				client := getClient()
				params := url.Values{}
				cmd.Flags().Visit(func(f *pflag.Flag) {
					params.Set(f.Name, f.Value.String())
				})
				result, err := client.ListGraphAccounts(context.Background(), params)
				if err != nil {
					return err
				}
				return output.Print(cmd, result)
			},
		}
		cmd.Flags().String("azureOrganizationId", "", "The Azure organization ID")
		cmd.Flags().String("bitbucketWorkspaceId", "", "The Bitbucket workspace ID")
		cmd.Flags().String("githubOwnerId", "", "The Github owner ID")
		cmd.Flags().String("gitlabGroupId", "", "The GitLab group ID")
		cmd.Flags().String("installationId", "", "The Nullify installation ID")
		cmd.Flags().String("azureRepositoryId", "", "")
		cmd.Flags().String("githubRepositoryId", "", "")
		cmd.Flags().String("githubTeamId", "", "")
		cmd.Flags().String("bitbucketRepositoryId", "", "")
		serviceCmd.AddCommand(cmd)
	}

	{
		cmd := &cobra.Command{
			Use:   "list-all",
			Short: "Get All Graph Nodes and Relationships",
			RunE: func(cmd *cobra.Command, args []string) error {
				client := getClient()
				params := url.Values{}
				cmd.Flags().Visit(func(f *pflag.Flag) {
					params.Set(f.Name, f.Value.String())
				})
				result, err := client.ListGraphAll(context.Background(), params)
				if err != nil {
					return err
				}
				return output.Print(cmd, result)
			},
		}
		cmd.Flags().String("azureOrganizationId", "", "The Azure organization ID")
		cmd.Flags().String("bitbucketWorkspaceId", "", "The Bitbucket workspace ID")
		cmd.Flags().String("githubOwnerId", "", "The Github owner ID")
		cmd.Flags().String("gitlabGroupId", "", "The GitLab group ID")
		cmd.Flags().String("installationId", "", "The Nullify installation ID")
		cmd.Flags().String("azureRepositoryId", "", "")
		cmd.Flags().String("githubRepositoryId", "", "")
		cmd.Flags().String("githubTeamId", "", "")
		cmd.Flags().String("bitbucketRepositoryId", "", "")
		serviceCmd.AddCommand(cmd)
	}

	{
		cmd := &cobra.Command{
			Use:   "list-latest",
			Short: "Get Latest Graph Data",
			RunE: func(cmd *cobra.Command, args []string) error {
				client := getClient()
				params := url.Values{}
				cmd.Flags().Visit(func(f *pflag.Flag) {
					params.Set(f.Name, f.Value.String())
				})
				result, err := client.ListGraphDataLatest(context.Background(), params)
				if err != nil {
					return err
				}
				return output.Print(cmd, result)
			},
		}
		cmd.Flags().String("azureOrganizationId", "", "The Azure organization ID")
		cmd.Flags().String("bitbucketWorkspaceId", "", "The Bitbucket workspace ID")
		cmd.Flags().String("githubOwnerId", "", "The Github owner ID")
		cmd.Flags().String("gitlabGroupId", "", "The GitLab group ID")
		cmd.Flags().String("installationId", "", "The Nullify installation ID")
		cmd.Flags().String("azureRepositoryId", "", "")
		cmd.Flags().String("githubRepositoryId", "", "")
		cmd.Flags().String("githubTeamId", "", "")
		cmd.Flags().String("bitbucketRepositoryId", "", "")
		serviceCmd.AddCommand(cmd)
	}

	{
		cmd := &cobra.Command{
			Use:   "list-nodes",
			Short: "Get Nodes by Type",
			RunE: func(cmd *cobra.Command, args []string) error {
				client := getClient()
				params := url.Values{}
				cmd.Flags().Visit(func(f *pflag.Flag) {
					params.Set(f.Name, f.Value.String())
				})
				result, err := client.ListGraphNodes(context.Background(), params)
				if err != nil {
					return err
				}
				return output.Print(cmd, result)
			},
		}
		cmd.Flags().String("nodeType", "", "")
		cmd.Flags().String("limit", "", "")
		cmd.Flags().String("azureOrganizationId", "", "The Azure organization ID")
		cmd.Flags().String("bitbucketWorkspaceId", "", "The Bitbucket workspace ID")
		cmd.Flags().String("githubOwnerId", "", "The Github owner ID")
		cmd.Flags().String("gitlabGroupId", "", "The GitLab group ID")
		cmd.Flags().String("installationId", "", "The Nullify installation ID")
		cmd.Flags().String("azureRepositoryId", "", "")
		cmd.Flags().String("githubRepositoryId", "", "")
		cmd.Flags().String("githubTeamId", "", "")
		cmd.Flags().String("bitbucketRepositoryId", "", "")
		serviceCmd.AddCommand(cmd)
	}

	{
		cmd := &cobra.Command{
			Use:   "list-search",
			Short: "Search Nodes",
			RunE: func(cmd *cobra.Command, args []string) error {
				client := getClient()
				params := url.Values{}
				cmd.Flags().Visit(func(f *pflag.Flag) {
					params.Set(f.Name, f.Value.String())
				})
				result, err := client.ListGraphNodesSearch(context.Background(), params)
				if err != nil {
					return err
				}
				return output.Print(cmd, result)
			},
		}
		cmd.Flags().String("query", "", "")
		cmd.Flags().String("limit", "", "")
		cmd.Flags().String("azureOrganizationId", "", "The Azure organization ID")
		cmd.Flags().String("bitbucketWorkspaceId", "", "The Bitbucket workspace ID")
		cmd.Flags().String("githubOwnerId", "", "The Github owner ID")
		cmd.Flags().String("gitlabGroupId", "", "The GitLab group ID")
		cmd.Flags().String("installationId", "", "The Nullify installation ID")
		cmd.Flags().String("azureRepositoryId", "", "")
		cmd.Flags().String("githubRepositoryId", "", "")
		cmd.Flags().String("githubTeamId", "", "")
		cmd.Flags().String("bitbucketRepositoryId", "", "")
		serviceCmd.AddCommand(cmd)
	}

}
